!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._posthogChunkIds=e._posthogChunkIds||{},e._posthogChunkIds[n]="019876c4-ea34-7721-8df9-b416619d5f5f")}catch(e){}}();var de=(H,V)=>()=>(V||H((V={exports:{}}).exports,V),V.exports);import{_ as he}from"./BlTxHScWgoGu.js";var me=de((ie,re)=>{const pe=(H,V,ne)=>Math.min(ne,Math.max(V,H));typeof re<"u"&&(re=void 0);typeof ie<"u"&&(ie=void 0);function ge(){const H={resetMetaValue:"Reset meta value",layers:"Layers",addBlockPlaceholder:"Enter block name or id",featuresSelected:"selected",layerHeight:"Height",error:"Error",sorry:"Sorry",storageFull:"You have saved too many presets already. Please delete some and try again.",noStorage:"Due to browser limitations, your presets can't be saved for reuse.",customPresets:"Custom Presets",defaultPresets:"Default Presets",none:"None",unnamed:"Unnamed",unsaved:"Unsaved"};$(document).ready(function(){var B=navigator.maxTouchPoints>0?he(()=>import("./C7C6kwbuKSd0.js"),[]):Promise.resolve();B.then(function(){navigator.maxTouchPoints>0&&($.fx.off=!0),ne.init()})});function V(B){return Math.floor(B)==B&&$.isNumeric(B)}$.fn.enterKey=function(B){return this.each(function(){$(this).keypress(function(z){var F=z.keyCode?z.keyCode:z.which;F=="13"&&B.call(this,z)})})};var ne=function(){var B=256,z=100,F="d0",R="1",Y=$({}),T=$("#app"),J=function(){$("img.loader").addClass("hidden"),$("#app").removeClass("hidden")},X=function(){blockData.useShortNames(!1),I.init(),_.init(),O.init(),x.init(),d.initElements(),d.initTabs(),J(),T.on("worldChange",D.worldChanged),T.on("codeChange",D.codeChanged),T.on("error",D.onError),T.on("versionChange",D.versionChanged),$(window).hashchange(D.hashChanged).hashchange(),T.trigger("codeChange",x.getSuperflatString()),T.trigger("versionChange",x.getVersion())};Y.init=function(){X()};var S={presets:$("#sf-presets"),tabSections:null,layers:T.find("#layers"),biome:T.find("#biome"),features:T.find("#features"),tabs:null,tabLayers:T.find("#sf-tabs #sf-tab-layers"),tabBiome:T.find("#sf-tabs #sf-tab-biome"),tabFeatures:T.find("#sf-tabs #sf-tab-features"),presetLimitError:null,presetStorageUnsupportedError:null};S.tabSections=S.layers.add(S.biome).add(S.features),S.tabs=S.tabLayers.add(S.tabBiome).add(S.tabFeatures);var d={initElements:function(){S.presetLimitError=$('<div class="alert alert-error"><button class="close" data-dismiss="alert">×</button><strong>'+H.error+"!</strong> "+H.storageFull+"</div>"),S.presetStorageUnsupportedError=$('<div class="alert"><button class="close" data-dismiss="alert">×</button><strong>'+H.sorry+"!</strong> "+H.noStorage+"</div>")},initTabs:function(){S.tabSections.hide(),S.tabLayers.click(d.showLayers),S.tabBiome.click(d.showBiome),S.tabFeatures.click(d.showFeatures),S.tabLayers.click(),d.refreshTabLabels()},showLayers:function(){d.showTab(S.tabLayers,S.layers)},showBiome:function(){d.showTab(S.tabBiome,S.biome)},showFeatures:function(){d.showTab(S.tabFeatures,S.features)},showTab:function(r,h){S.tabSections.hide(),h.show(),S.tabs.removeClass("active"),r.addClass("active")},refreshTabLabels:function(){S.tabLayers.find(".tab-status").text(H.layerHeight+": "+f.getCurrentHeight()),S.tabBiome.find(".tab-status").text(f.getBiome()),S.tabFeatures.find(".tab-status").text(f.getNrSelectedFeatures()+" "+H.featuresSelected)}},M=!1,w=3,f={getCurrentHeight:function(){return I.getCurrentHeight()},getBiome:function(){return _.getBiome()},getNrSelectedFeatures:function(){return O.getNrSelected()},setPageHash:function(r){M=r,window.location.hash!=="#"+r&&(window.location.hash=r)}},D={worldChanged:function(){var r=w+";"+I.getSuperflatString(w)+";"+_.getSuperflatString()+";"+O.getSuperflatString();x.setSuperflatString(r),d.refreshTabLabels(),f.setPageHash(r)},codeChanged:function(r,h){p.process(h)},hashChanged:function(){var r=window.location.hash.substr(1);r.length<1||M!==r&&(x.setSuperflatString(r),T.trigger("codeChange",r))},versionChanged:function(r,h){w=h,D.worldChanged()},onError:function(r,h){h=="presetStorageUnsupported"?T.prepend(S.presetStorageUnsupportedError):h=="presetStorageExceeded"&&T.prepend(S.presetLimitError)}},p={areCodesEqual:function(r,h){if(!r||!h)return r===h;var n=r.split(";"),s=h.split(";");if(n.length!==s.length||n[0]!=="2"&&n[0]!=="3"||s[0]!=="2"&&s[0]!=="3")return!1;if(n[0]===s[0])return r===h;for(var v=2;v<n.length;v++)if(n[v]!==s[v])return!1;var y=n[1],b=s[1];return s[0]==="3"&&(y=s[1],b=n[1]),y.replace(/\*/g,"x")===b},parseIntWithDefault:function(r,h){return r=r+"",!r.match(/^(-|\+)?(\d)+$/)||r>2147483647||r<-2147483648?h:+r},splitWithTail:function(r,h,n){for(var s=r.split(h),v=[];--n>0&&s.length>0;)v.push(s.shift());return s.length>0&&v.push(s.join(h)),v},process:function(r){var h=!0,n=r.split(";"),s=p.extractVersion(r);if(s>=0&&s<=3){var v=1;n.length==1&&(v=0);var y=I.prepareSuperflatString(n[v],s);if(v+=1,y){var b=-1;s>0&&n.length>v&&(b=p.parseIntWithDefault(n[v],b),v+=1),h=_.prepareSuperflatString(b);var t;h&&s>0&&n.length>v?t=n[v]:t="village",h=O.prepareSuperflatString(t)}else h=!1}else h=!1;h?(I.applySuperflatString(),_.applySuperflatString(),O.applySuperflatString(),d.refreshTabLabels(),T.trigger("worldChange")):x.setInvalid()},extractVersion:function(r){var h=r.split(";"),n;return h.length==1?n=0:n=p.parseIntWithDefault(h[0],0),n},extractLayerCode:function(r){var h=r.split(";"),n=p.extractVersion(r);if(n>=0&&n<=3){var s=1;return h.length==1&&(s=0),h[s]}return""}},x=function(){var r={},h=!1;r.init=function(){b.init(),s.initElements(),s.assignHandlers(),s.hideNewPreset(),b.storageAvailable()||(setTimeout(function(){T.trigger("error","presetStorageUnsupported")},0),s.hideStorageElements())};var n={selectPresetRow:this.find("#preset-select-row"),newPresetRow:this.find("#preset-add-row"),codeRow:this.find("#sf-code-row"),codeInput:this.find("#sf-code"),versionSelect:this.find("#sf-version"),presetSelect:this.find("#sf-preset"),customPresetsOptGroup:null,newPresetButton:this.find("#preset-new"),deletePresetButton:this.find("#preset-delete"),newPresetNameInput:this.find("#preset-new-name"),newPresetSaveButton:this.find("#preset-new-save"),newPresetAbortButton:this.find("#preset-new-abort"),emptyOption:$('<option value="dummy-empty" disabled="disabled"></option>'),unsavedOption:$('<option value="dummy-unsaved"></option>')},s={initElements:function(){s.reloadPresets();function t(o){if(!o.id)return o.text;var m=v.getIcon(o.id);return m?$('<span><img src="'+m+'" alt=""> </span>').append(document.createTextNode(o.text)).html():o.text}n.presetSelect.select2({minimumResultsForSearch:30,formatResult:t,formatSelection:t,escapeMarkup:function(o){return o},matcher:function(o,m,C){return C.val()=="dummy-unsaved"?!1:m.toUpperCase().indexOf(o.toUpperCase())>=0}}).on("select2-opening",function(o){}),s.selectInitialPreset(),n.emptyOption.text(H.none),n.unsavedOption.text(H.unsaved)},assignHandlers:function(){n.codeInput.blur(y.codeBlur),n.codeInput.enterKey(y.codeEnter),n.versionSelect.change(y.changeVersion),n.deletePresetButton.click(y.deletePreset),n.newPresetButton.click(y.newPreset),n.newPresetSaveButton.click(y.savePreset),n.newPresetNameInput.enterKey(y.savePreset),n.newPresetAbortButton.click(y.abortNewPreset),n.presetSelect.change(y.presetSelected)},selectInitialPreset:function(){var t;b.isEmpty()?t=F:t=0,n.presetSelect.select2("val",t),v.setValid(),n.codeInput.val(b.getPresetCode(t))},showNewPreset:function(){n.selectPresetRow.hide(),n.newPresetRow.show()},hideNewPreset:function(){n.selectPresetRow.show(),n.newPresetRow.hide()},getCurrentCode:function(){return n.codeInput.val().trim()},setCurrentCode:function(t){n.codeInput.val(t)},resetCode:function(){s.setCurrentCode("")},getCurrentName:function(){return n.newPresetNameInput.val().trim()},getCurrentPresetId:function(){return n.presetSelect.select2("val")},hideStorageElements:function(){n.newPresetButton.add(n.deletePresetButton).hide()},setDeleteButtonState:function(t){t?n.deletePresetButton.removeAttr("disabled"):n.deletePresetButton.attr("disabled","disabled")},selectPreset:function(t,o){setTimeout(function(){s.selectPreset2(t,o)})},selectPreset2:function(t){n.presetSelect.select2("val",t),s.setDeleteButtonState(v.isCustomPreset(t)),!(t+"").startsWith("dummy-")&&(s.refreshDummys(),s.setValid(!0),s.setCurrentCode(b.getPresetCode(t)))},reselectPreset:function(t,o){t=!!t;var m=s.getCurrentCode(),C=s.getCurrentPresetId(),i;return p.areCodesEqual(b.getPresetCode(C),m)?i=C:(i=b.findPreset(s.getCurrentCode()),typeof i>"u"&&(o?b.isEmpty()?i="d0":i=n.customPresetsOptGroup.find("option").first().val():(n.presetSelect.prepend(n.unsavedOption),i="dummy-unsaved"))),s.selectPreset(i,t),i},reloadPresets:function(){if(n.presetSelect.html(""),b.storageAvailable()){var t=b.getCustomPresets();if(n.customPresetsOptGroup=$('<optgroup label="'+H.customPresets+'"></optgroup>'),t.length===0)n.customPresetsOptGroup.append(n.emptyOption);else for(var o=0;o<t.length;o++){var m=t[o];n.customPresetsOptGroup.append($('<option value="'+o+'"></option>').text(m.name))}n.presetSelect.append(n.customPresetsOptGroup)}else n.customPresetsOptGroup=$();var C=b.getDefaultPresets(),i=$('<optgroup label="'+H.defaultPresets+'"></optgroup>');$.each(C,function(c,e){i.append($('<option value="'+c+'"></option>').text(e.name))}),n.presetSelect.append(i)},refreshDummys:function(){n.unsavedOption.remove(),b.isEmpty()?n.customPresetsOptGroup.prepend(n.emptyOption):n.emptyOption.remove()},focusName:function(){n.newPresetNameInput.focus()},flashName:function(){n.newPresetNameInput.cb_flashRed()},focusCode:function(){n.codeInput.focus()},flashCode:function(){n.codeInput.cb_flashRed()},setValid:function(){n.codeRow.removeClass("invalid")},setInvalid:function(){n.codeRow.addClass("invalid")}},v={cleanPresetName:function(t){return t.substr(0,50)},cleanCode:function(t){return t.substr(0,1500)},submitCode:function(){T.trigger("codeChange",s.getCurrentCode())},isCustomPreset:function(t){return!!(t+"").match(/^\d+$/)},getIcon:function(t){if(t.startsWith("dummy-"))return null;var o=b.getDefaultPresets();return typeof o[t]<"u"?o[t].icon:I.getBlockIcon(p.extractLayerCode(b.getPresetCode(t)))},setValid:function(){h=!0,s.setValid()},setInvalid:function(){h=!1,s.setInvalid()}},y={presetSelected:function(){var t=s.getCurrentPresetId();if(s.setDeleteButtonState(v.isCustomPreset(t)),t.startsWith("dummy-")){s.resetCode();return}s.refreshDummys(),s.setCurrentCode(b.getPresetCode(t)),v.submitCode()},savePreset:function(){var t=v.cleanPresetName(s.getCurrentName()),o=v.cleanCode(s.getCurrentCode());if(t.length<1&&(t=H.unnamed),o.length<1||!h){s.flashCode(),s.focusCode();return}var m=b.savePreset(t,o);if(m===!1){T.trigger("error","presetStorageExceeded"),s.hideNewPreset();return}s.hideNewPreset(),s.reloadPresets(),s.selectPreset(m)},newPreset:function(){s.showNewPreset(),s.focusName()},deletePreset:function(){var t=parseInt(s.getCurrentPresetId());v.isCustomPreset(t)&&(b.deletePreset(t),s.reloadPresets(),s.reselectPreset(!0,!0))},abortNewPreset:function(){s.hideNewPreset()},codeEnter:function(){v.submitCode(),s.reselectPreset()},codeBlur:function(){v.submitCode(),s.reselectPreset()},changeVersion:function(){T.trigger("versionChange",+n.versionSelect.val())}};r.setSuperflatString=function(t){n.codeInput.is(":focus")||(v.setValid(),s.setCurrentCode(t),s.reselectPreset())},r.getSuperflatString=function(){return s.getCurrentCode()},r.setInvalid=function(){v.setInvalid(),s.flashCode()},r.getVersion=function(){return+n.versionSelect.val()};var b=function(){var t={d0:{name:"Classic Flat",icon:"/img/blocks/2.png",code:"2;7,2x3,2;1;village"},d1:{name:"Tunneler's Dream",icon:"/img/blocks/1.png",code:"2;7,230x1,5x3,2;3;stronghold,biome_1,decoration,dungeon,mineshaft"},d2:{name:"Water World",icon:"/img/superflat-presets/water.png",code:"2;7,5x1,5x3,5x12,90x9;1;biome_1,village"},d3:{name:"Overworld",icon:"/img/blocks/32.png",code:"2;7,59x1,3x3,2;1;stronghold,biome_1,village,decoration,dungeon,lake,mineshaft,lava_lake"},d4:{name:"Snowy Kingdom",icon:"/img/blocks/78.png",code:"2;7,59x1,3x3,2,78;12;biome_1,village"},d5:{name:"Bottomless Pit",icon:"/img/superflat-presets/feather.png",code:"2;2x4,3x3,2;1;biome_1,village"},d6:{name:"Desert",icon:"/img/blocks/12.png",code:"2;7,3x1,52x24,8x12;2;stronghold,biome_1,village,decoration,dungeon,mineshaft"},d7:{name:"Redstone Ready",icon:"/img/superflat-presets/redstone.png",code:"2;7,3x1,52x24;2;"}},o,m={init:function(){o=$.jStorage.storageAvailable()},storageAvailable:function(){return o},getDefaultPresets:function(){return t},getCustomPresets:function(){return o?$.jStorage.get("superflat-presets",[]):null},savePreset:function(C,i){if(o){var c=m.getCustomPresets();if(c.length>z)return!1;for(var e=[],a=0;a<c.length;a++)e.push(c[a].name);for(var u=2,k=C;e.indexOf(C)>-1;)C=k+" ("+u+++")";return c.unshift({name:C,code:i}),$.jStorage.set("superflat-presets",c),0}},deletePreset:function(C){if(o){var i=m.getCustomPresets();i.remove(C),$.jStorage.set("superflat-presets",i)}},findPreset:function(C){var i=null;if($.each(t,function(c,e){if(p.areCodesEqual(e.code,C))return i=c,!1}),i!==null)return i;if(o&&($.each(m.getCustomPresets(),function(c,e){if(p.areCodesEqual(e.code,C))return i=c,!1}),i!==null))return i},getPresetCode:function(C){var i=m.getRawPresetCode(C);if(!i)return i;var c=i.split(";");if(c.length<2)return i;var e=+c[0];return e===2&&w===3?c[1]=c[1].replace(/x/g,"*"):e===3&&w===2&&(c[1]=c[1].replace(/\*/g,"x")),c[0]=w,c.join(";")},getRawPresetCode:function(C){if(typeof t[C]<"u")return t[C].code;if(!o)return null;var i=m.getCustomPresets();return typeof i[C]<"u"?i[C].code:null},isEmpty:function(){return!o||m.getCustomPresets().length===0}};return m}();return r}.call(S.presets),I=function(){var r={},h=0,n={newLayerInput:this.find("#new-layer-input"),newLayerSubmit:this.find("#new-layer-submit"),layerList:this.find("#layer-list")};r.init=function(){n.newLayerSubmit.click(function(){v.addLayer()}),n.newLayerInput.blockSelector(),n.layerList.delegate(".layer","heightChange",v.heightChanged),n.layerList.delegate(".layer","layerRemoved",v.layerRemoved),n.layerList.sortable({axis:"y",cursor:"move",distance:10,handle:".layer-main",cancel:"a, input",forcePlaceholderSize:!0,revert:11,tolerance:"pointer",helper:function(t,o){var m=o.data("layer");if(t.ctrlKey&&B-h-m.getHeight()>=0){var C=m.clone();setTimeout(function(){C.insertAfter(o),n.layerList.sortable("refresh"),y.resetHeights(),y.signalChange()},0)}return o.data("layer").lockMeta(!0),n.layerList.sortable("refresh"),o},change:function(t,o){y.resetHeights(),y.signalChange()},start:function(t,o){},stop:function(t,o){o.item.data("layer").lockMeta(!1)},placeholder:"layer-placeholder"}),function(){var t=0;$.fn.metaRow=function(e,a,u){var k=this;t++;var l=0,g=0,U=1,W=0,P=1;V(a.start)&&(g=a.start),V(a.length)&&(U=a.length,P=(1<<U)-1),V(a.min)&&(W=a.min),V(a.max)&&(P=a.max),l=u>>g&(1<<U)-1,(l>P||l<W)&&(l=W);var A=function(){return l<<g},G=function(L){L!==l&&(l=L,k.trigger("metaChange",A()))},K="meta-input-"+t,ae=$('<label for="'+K+'">'+blockData.getString(e)+"</label>"),Z=$('<div class="meta-controls"></div>'),ee=$('<div class="clearfix"></div>');function oe(){var L=$('<input type="checkbox" id="'+K+'"></input>');Z.append(L).append(ae),k.addClass("checkbox").append(Z).append(ee),l==1&&L.prop("checked",!0),L.on("change",function(){var N=0;L.is(":checked")&&(N=1),G(N)})}var se="m-0 box-content inline-block h-[18px] rounded-[3px] border-[1px] border-[solid] bg-[#ffffff] p-[4px] align-baseline font-[Arial,_Helvetica,_sans-serif] text-[13px] leading-[normal] font-normal text-[#555555] [box-shadow:inset_0_1px_1px_rgba(0,_0,_0,_0.075)] [transition:border_linear_0.2s,_box-shadow_linear_0.2s] disabled:cursor-default disabled:border-[#ddd] disabled:bg-[#eeeeee] focus:border-[rgba(82,_168,_236,_0.8)] focus:[box-shadow:inset_0_1px_1px_rgba(0,_0,_0,_0.075),_0_0_8px_rgba(82,_168,_236,_0.6)] focus:outline-[0] focus:outline-[thin_dotted_\\9] placeholder:text-[#999999]";function ue(){for(var L=$('<select class="'+se+'" id="'+K+'"></select>'),N=W;N<=P;N++)if(!(Array.isArray(a.unused)&&a.unused.indexOf(N)!==-1)){var E=N;typeof a.valueNames<"u"&&typeof a.valueNames[N]<"u"&&(E=blockData.getString(a.valueNames[N])),L.append($('<option value="'+N+'"></option>').text(E))}k.append(ae).append(Z.append(L).append(ee)),L.val(l),L.on("change",function(){var Q=L.val();G(Q)})}function fe(){for(var L=[],N=K,E=W;E<=P;E++)if(!(Array.isArray(a.unused)&&a.unused.indexOf(E)!==-1)){K=N+"-"+E;var Q=E;typeof a.valueNames<"u"&&typeof a.valueNames[E]<"u"&&(Q=blockData.getString(a.valueNames[E])),L.push($('<input type="radio" name="'+N+'" id="'+K+'" value="'+E+'"></input>')[0]),L.push($('<label for="'+K+'"></label>').text(Q)[0]),L.push(ee.clone()[0])}L=$(L),k.addClass("checkbox").append($('<span class="label">'+blockData.getString(e)+"</span>")).append(Z.append($(L)).append(ee)),L=L.filter("input"),L.each(function(te,q){$(q).val()==l&&$(q).prop("checked",!0)}),L.on("change",function(){var te=L.filter("input:checked").val();G(te)})}function ce(){for(var L=$('<div class="meta-slider"></div>'),N=$('<select class="meta-slider-select '+se+'" id="'+K+'"></select>'),E=W;E<=P;E++){var Q=E;typeof a.valueNames<"u"&&typeof a.valueNames[E]<"u"&&(Q=blockData.getString(a.valueNames[E])),N.append($('<option value="'+E+'"></option>').text(Q))}k.append(ae).append(Z.append(N).append(L)).append(ee),L.slider({min:W,max:P,value:l}),N.val(l),N.width("auto"),setTimeout(function(){N.width(N.width()+12);var q=N.width()+24;L.css("margin-left",q+"px"),L.width(234-q)});var te=function(q){return q!==l?(G(q),!0):!1};L.on("slide",function(q,le){te(le.value)&&N.val(le.value)}),N.on("change",function(){te(N.val())&&L.slider("value",N.val())})}return a.type==="flag"?oe():a.type=="range"?ce():P-W+1>4?ue():fe(),typeof a.help<"u"&&k.append($('<span class="meta-help">'+blockData.getString(a.help)+"</span>")),this.data("meta",{getMeta:A}),this};var o=$('<div class="layer-height"><div class="layer-height-select"><input type="text" class="spinner-input layer-height-edit" /></div><div class="layer-height-position"></div></div><div class="layer-main" tabindex="0"><div class="layer-block-icon"><img src="" alt=""></div><div class="layer-name-wrap"><a href="#"  class="layer-name"></a><span class="layer-metatoggle">&#9668;</span></div><div class="layer-name-technical"><span class="block-name"></span> [<span class="block-id"></span>:<span class="block-meta"></span>]<a class="icon-undo" title="'+H.resetMetaValue+'"></a></div><a href="#" class="layer-delete">×</a></div><div class="clearfix"></div><div class="layer-meta" style="display:none;"></div>'),m=BlockSelector.getSelect2Options(),C={select2:$.extend({},m,{formatSelection:function(e){return e.text+'<span class="block-id">'+e.id+"</span>"},dropdownCssClass:"editable-dropdown",initSelection:function(e,a){a(m.createSearchChoice(e.val()))}}),source:m.data,placeholder:m.placeholder,type:"select2",mode:"inline",showbuttons:!1,inputclass:"layer-name-edit",unsavedclass:null,validate:function(e){}},i=1;function c(e,a,u,k,l){this.id=e,this.meta=a,this.height=u,this.base=k,this.layerId=i++,this.showingMeta=!1,this.metaLocked=!1,this.animatingMeta=!1;var g=o.clone();this.elems={$this:l,layersAt:g.find(".layer-height-position"),blockIcon:g.find(".layer-block-icon img"),blockName:g.find(".block-name"),blockId:g.find(".block-id"),blockMeta:g.find(".block-meta"),metaToggleIcon:g.find(".layer-metatoggle"),metaReload:g.find(".icon-undo"),heightSelect:g.find(".layer-height-select").find("input"),height:g.find(".layer-height-select"),name:g.find(".layer-name"),meta:g.filter(".layer-meta"),deleteIcon:g.find(".layer-delete")},l.append(g),this.initHeightSelect(),this.initNameEdit(),this.initDelete(),this.initMetaToggle(),this.initMetaChange(),this.initCleanMeta(),this.reload()}c.prototype={constructor:c,initHeightSelect:function(){this.elems.heightSelect.spinner({min:1,max:B-h+this.height,icons:{down:"icon-chevron-down",up:"icon-chevron-up"},change:$.proxy(this.handleHeightChange,this),stop:$.proxy(this.handleHeightChange,this)}).on("blur",$.proxy(this.handleHeightBlur,this)),this.elems.height.find("span.icon-chevron-up").replaceWith($('<i class="ui-icon icon-chevron-up"></i>')),this.elems.height.find("span.icon-chevron-down").replaceWith($('<i class="ui-icon icon-chevron-down"></i>')),this.elems.heightSelect.spinner("value",this.height),this.elems.heightSelect.on("keyup",$.proxy(this.handleHeightChange,this))},initNameEdit:function(){this.elems.name.editable(C).on("shown",$.proxy(function(a){var u=this.elems.$this.find(".layer-name-edit");u.select2("val",this.meta>0?this.id+":"+this.meta:this.id).on("select2-close",function(){u.change()}),setTimeout($.proxy(function(){u.select2("open")},this),0)},this)).on("hidden",function(){$("body").find(".select2-drop.editable-dropdown:hidden").remove()});var e=this;this.elems.name.on("save",function(a,u){e.handleBlockChange.call(e,u.newValue)})},initDelete:function(){var e=this;this.elems.deleteIcon.on("click",function(a){return e.handleDelete.call(e),!1})},initMetaToggle:function(){var e=this;this.elems.$this.find(".layer-main").click($.proxy(this.handleMetaToggle,this)).keypress(function(a){a.which==13&&e.handleMetaToggle.call(e,!0)})},initMetaChange:function(){this.elems.meta.delegate(".meta-row","metaChange",$.proxy(this.handleMetaChange,this))},initCleanMeta:function(){var e=this;this.elems.metaReload.click(function(a){e.meta=j.cleanMeta(e.id+":"+e.meta),e.reload(),e.reloadMeta(),y.signalChange(),a.stopPropagation()})},reload:function(){if(this.height<1){this.handleDelete();return}var e="";this.height==1?e=H.layers+": "+this.base:e=H.layers+": "+this.base+"-"+(this.base+this.height-1),this.elems.layersAt.text(e);var a=blockData.meta[this.id],u=typeof a<"u"&&typeof a.getIcon=="function"?a.getIcon(this.meta):this.id;this.elems.blockIcon.attr("src","/img/blocks/42x42/"+u+".png"),this.elems.blockName.html(blockData.getName(this.id)),this.elems.blockId.html(this.id),this.elems.blockMeta.html(this.meta),this.elems.name.html(blockData.getName(this.id,this.meta)),typeof blockData.meta[this.id]<"u"?this.elems.$this.addClass("expandable"):(this.elems.$this.removeClass("expandable"),this.showingMeta&&this.collapseMeta()),j.isMetaValid(this.id+":"+this.meta)?this.elems.$this.removeClass("unknown-meta"):this.elems.$this.addClass("unknown-meta")},reloadMeta:function(){this.elems.meta.empty(),this.elems.meta.append(this.createMeta())},reloadMetaToggleIcon:function(){this.showingMeta?this.elems.metaToggleIcon.html("&#9660;"):this.elems.metaToggleIcon.html("&#9668;")},scheduleReload:function(){setTimeout($.proxy(this.reload,this),0)},expandMeta:function(){if(!(this.showingMeta||this.metaLocked||typeof blockData.meta[this.id]>"u"||this.animatingMeta)){this.reloadMeta(),this.animatingMeta=!0;var e=!1;this.elems.meta.show({effect:"blind",duration:200,easing:"easeInExpo",complete:$.proxy(function(){this.animatingMeta=!1,e=!0},this)}),this.elems.$this.addClass("expanded"),this.showingMeta=!0,this.reloadMetaToggleIcon(),e&&(this.animatingMeta=!0,setTimeout($.proxy(function(){this.animatingMeta=!1},this),500))}},collapseMeta:function(){var e=this.elems.meta;if(this.metaLocked)this.showingMeta=!1,e.hide().empty(),this.elems.$this.removeClass("expanded").height("auto"),this.reloadMetaToggleIcon();else{if(this.animatingMeta||!this.showingMeta)return;this.showingMeta=!1,this.animatingMeta=!0;var a=!1;e.hide({effect:"blind",duration:200,easing:"easeInExpo",complete:$.proxy(function(){e.empty(),this.elems.$this.removeClass("expanded"),this.animatingMeta=!1,this.reloadMetaToggleIcon(),a=!0},this)}),a&&(this.animatingMeta=!0,setTimeout($.proxy(function(){this.animatingMeta=!1},this),500))}},resetHeightLimit:function(){this.elems.$this.parent().length&&this.elems.heightSelect.spinner("option","max",B-h+this.height)},getHeightFromInput:function(){var e=this.elems.heightSelect.val();return e=e.replace(/[^\d.]/g,""),e.length<1&&(e=1),pe(parseInt(e,10),1,B-h+this.height)},createMeta:function(){var e=blockData.meta[this.id];if(!(typeof e>"u")){var a=[],u=this.meta;return $.each(e.options,function(k,l){var g=$("<div></div>").addClass("meta-row").metaRow(k,l,u);a.push(g[0]),a.push($('<div class="hr"></div>')[0])}),a.pop(),$(a)}},recalculateMeta:function(){this.meta=0;var e=this;this.elems.meta.find(".meta-row").each(function(a,u){e.meta+=$.data(u,"meta").getMeta()})},handleHeightChange:function(e,a){var u=this.getHeightFromInput();this.elems.heightSelect.val().trim().length>0&&this.elems.heightSelect.spinner("value",u),this.height!==u&&(this.height=u,this.elems.$this.trigger("heightChange",this.height),this.reload())},handleHeightBlur:function(e,a){this.elems.heightSelect.spinner("value",this.getHeightFromInput())},handleBaseLayerChange:function(e){setTimeout($.proxy(this.resetHeightLimit,this),0),this.base!==e&&(this.base=e,this.reload())},setMetaLocked:function(e){e!=this.metaLocked&&(this.metaLocked=e,e&&this.collapseMeta())},handleBlockChange:function(e){var a=j.findBlock(e);if(typeof a>"u"){this.reload();return}var u,k;u=a.split(":")[0],k=a.split(":")[1],!(this.meta===k&&this.id===u)&&(this.id=u,this.meta=k,this.scheduleReload(),this.reloadMeta(),y.signalChange())},handleDelete:function(){var e=this.elems.$this;e.trigger("layerRemoved"),e.addClass("removed"),e.hide("slide",150,function(){$(this).remove()})},handleMetaToggle:function(e){e!==!0&&($(e.target).prop("tagName")=="INPUT"||$(e.target).hasClass("editable")||$(e.target).hasClass("layer-delete"))||(this.showingMeta?this.collapseMeta():this.expandMeta())},handleMetaChange:function(){this.recalculateMeta(),this.reload(),y.signalChange()},set:function(e,a,u){(typeof e>"u"||e===null)&&(e=-1),(typeof a>"u"||a===null)&&(a=-1),(typeof u>"u"||u===null)&&(u=-1),!(e===this.id&&a===this.meta&&u===this.height)&&(e>=0&&(this.id=e),a>=0&&(this.meta=a),u>=0&&(this.height=u),this.reload())},setBaseLayer:function(e){this.handleBaseLayerChange(e)},clone:function(){return $("<li></li>").createLayer(this.id,this.meta,this.height,this.base)}},$.fn.createLayer=function(e,a,u,k){this.addClass("layer");var l=new c(e,a,u,k,this);return this.data("layer",{getId:function(){return l.id},getMeta:function(){return l.meta},getHeight:function(){return l.height},set:function(g,U,W){l.set(g,U,W)},setBaseLayer:function(g){l.setBaseLayer(g)},collapse:function(){l.collapseMeta()},clone:function(){return l.clone()},lockMeta:function(g){l.setMetaLocked(g)}}),this}}()};var s={flashAddLayer:function(){n.newLayerInput.cb_flashRed(),n.newLayerInput.select2("open")},flashHeights:function(){n.layerList.find(".layer-height").cb_flashRed()},resetAddLayer:function(){n.newLayerInput.select2("val","")},addNewLayer:function(t,o,m,C,i){C!==!1&&(C=!0);var c=$('<li style="display:none"></li>').createLayer(t,o,m,h);c.prependTo(n.layerList),i!==!0&&y.resetHeights(),C?c.show("slide",150):c.show()},getAllLayers:function(){return n.layerList.children()}},v={addLayer:function(){if(h>=B){s.flashHeights();return}var t=n.newLayerInput.select2("val"),o=j.findBlock(t);if(typeof o>"u"){s.flashAddLayer();return}s.addNewLayer(j.parseBlockId(o),j.parseMeta(o),1),y.signalChange()},layerRemoved:function(){setTimeout($.proxy(function(){y.resetHeights(),y.signalChange()},this),0)},heightChanged:function(){y.resetHeights(),y.signalChange()}},y={getLayerDataFromDom:function(t){if(t.hasClass("ui-effects-wrapper")&&(t=t.find(".layer")),t.hasClass("ui-sortable-helper")||t.hasClass("removed")||!(t.hasClass("layer")||t.hasClass("layer-placeholder")))return!1;var o;t.hasClass("layer-placeholder")?o=t.siblings().filter(".ui-sortable-helper"):o=t;var m=o.data("layer");return typeof m>"u"?!1:m},resetHeights:function(){var t=0,o=s.getAllLayers();o.reverse().each(function(){var m=y.getLayerDataFromDom($(this));m!==!1&&(m.setBaseLayer(t),t+=m.getHeight())}),h=t},signalChange:function(){T.trigger("worldChange")},clearAll:function(){s.getAllLayers().remove()}};r.getSuperflatString=function(t){var o="",m=s.getAllLayers();return m.reverse().each(function(){var C=y.getLayerDataFromDom($(this));if(C!==!1){var i=C.getId(),c=C.getMeta(),e=C.getHeight(),a=i;if(c>0&&(a+=":"+c),e>1){var u="x";t===3&&(u="*"),a=e+u+a}o+=a+","}}),o.substr(0,o.length-1)},r.getCurrentHeight=function(){return h},r.getBlockIcon=function(t){r.prepareSuperflatString(t,w);var o=0;return b.length>0&&(o=b[b.length-1].block),"/img/blocks/"+o+".png"};var b;return r.prepareSuperflatString=function(t,o){b=[],t=t+"";for(var m=t.split(","),C=0,i=0;i<m.length;i++){var c=m[i].trim();if(!(c.length<1)){var e="x";o===3&&(e="*");var a=p.splitWithTail(c,e,2),u=1,k=0,l=0;if(a.length==2&&(u=p.parseIntWithDefault(a[0],!1),u===!1))return!1;if(C+u>=B&&(u=B-C),!(u<0)){C+=u;var g=a[a.length-1],U=p.splitWithTail(g,":",2);if(k=p.parseIntWithDefault(U[0],!1),k===!1)return!1;if(blockData.exists(k)||(k=0,l=0),U.length>1){if(l=p.parseIntWithDefault(U[1],!1),l===!1)return!1;(l<0||l>15)&&(l=0)}b.push({block:k,meta:l,height:u})}}}return!0},r.applySuperflatString=function(){y.clearAll();for(var t=0;t<b.length;t++){var o=b[t];s.addNewLayer(o.block,o.meta,o.height,!1,!0)}y.resetHeights()},r}.call(S.layers),_=function(){var r=this,h=function(y,b){return r.find("input").prop("checked",!1),r.find('input[value="'+y+'"]').prop("checked",!0),r.find('input[value="'+y+'"]').prop("checked",!0).trigger("change",b)},n=function(){var y=r.find("label"),b=r.find("input:checked").closest("label");y.removeClass("active"),b.addClass("active"),setTimeout(function(){y.find(".prettyradio a").removeClass("checked"),b.find(".prettyradio a").addClass("checked")},0)},s=R,v={init:function(){r.find("input").prettyCheckable().change(function(y,b){n(),b!==!1&&T.trigger("worldChange")}),h(R),n()},getSuperflatString:function(){return r.find("input[name=biome]:checked").val()},getBiome:function(){return r.find("input[name=biome]:checked").closest("label").find(".biome-name").text().trim()},prepareSuperflatString:function(y){return s=R,r.find('input[value="'+y+'"]').length>0&&(s=y),!0},applySuperflatString:function(){h(s,!1)}};return v}.call(S.biome),O=function(){var r=this,h={stronghold:{options:{count:{defaultVal:3,min:1},distance:{defaultVal:32,min:1,numberType:"FLOAT"},spread:{defaultVal:3,min:1}}},biome_1:{options:{distance:{defaultVal:32,min:9}}},village:{options:{size:{defaultVal:1,min:0},distance:{defaultVal:32,min:9}}},lake:{},lava_lake:{},mineshaft:{options:{chance:{defaultVal:.01,min:0,max:1,numberType:"FLOAT",numberFormat:"n2"}}},decoration:{},dungeon:{}},n=["stronghold","biome_1","village","decoration","dungeon","lake","mineshaft","lava_lake"],s="fm",v=null,y=!1,b={};b.init=function(){t.loadElements();var i=o.getDefaultValues();t.fillValues(i),t.initFeatures(),t.initControls()};var t={loadElements:function(){var i={min:0,max:Math.pow(2,32)-1,defaultVal:0,numberFormat:"n0",numberType:"INT",step:1},c="en-US";$.each(h,function(e,a){var u="#"+s+"-"+e;a.$elem=r.find(u),a.$input=a.$elem.find('input[type="checkbox"]'),typeof a.options<"u"&&$.each(a.options,function(k,l){l.$elem=r.find(u+"-"+k),l.$input=l.$elem.find("input");var g=$.extend(!0,{},i);typeof l.min<"u"&&(g.min=l.min),typeof l.max<"u"&&(g.max=l.max),typeof l.defaultVal<"u"&&(g.defaultVal=l.defaultVal),typeof l.numberType<"u"&&(g.numberType=l.numberType,g.numberType==="FLOAT"&&(g.step=.1,g.numberFormat="n1")),typeof l.numberFormat<"u"&&(g.numberFormat=l.numberFormat,g.numberFormat==="n2"&&(g.step=.01)),l.value=g.defaultVal;function U(P){if(g.numberType==="FLOAT"){var A=Globalize.format(P,"n25",c).replace(/0*$/,"");return A.match(/\d$/)||(A+="0"),A}return Globalize.format(P,"n0",c)}function W(P,A){P=P+"";var G=c;return A===!0&&(G="en-US"),g.numberType==="FLOAT"?Globalize.parseFloat(P,10,G):Globalize.parseInt(P,10,G)}l.setValue=function(P,A){P=W(P,A);var G,K=!0;typeof P!="number"||isNaN(P)?P=l.value:P>g.max?P=g.max:P<g.min?P=g.min:K=!1,G=U(P),l.value=P,K&&!y&&l.$input.cb_flashRed(),l.$input.val(G),y||o.signalChange()},l.$input.spinner({min:g.min,max:g.max,step:g.step,icons:{down:"icon-chevron-down",up:"icon-chevron-up"},culture:"en-US",numberFormat:g.numberFormat,change:function(){var P=l.$input.val();l.setValue(P)},spin:function(P,A){l.value=A.value}}),l.$elem.find("span.icon-chevron-up").replaceWith($('<i class="ui-icon icon-chevron-up"></i>')),l.$elem.find("span.icon-chevron-down").replaceWith($('<i class="ui-icon icon-chevron-down"></i>')),l.$input.spinner("value",g.defaultVal)})})},fillValues:function(i){$.each(h,function(c,e){var a=i[c];e.$input.prop("checked",a.value),typeof e.options<"u"&&$.each(e.options,function(u,k){var l=a.options[u];k.setValue(l.value,!0)})})},initFeatures:function(){$.each(h,function(i,c){c.$elem.change(function(){m.featureChanged(c,!0)}),m.featureChanged(c,!1)})},initControls:function(){r.find("#fm-checkall").click(function(){m.setAllFeatureCheckState(!0)}),r.find("#fm-uncheckall").click(function(){m.setAllFeatureCheckState(!1)}),r.find("#fm-reset").click(m.resetOptionsToDefault)},setOptionVal:function(i){}},o={getDefaultValues:function(){return v===null&&(v={},$.each(h,function(i,c){v[i]={value:!1},typeof c.options<"u"&&(v[i].options={},$.each(c.options,function(e,a){var u=0;typeof a.defaultVal<"u"&&(u=a.defaultVal),v[i].options[e]={value:u}}))})),v},signalChange:function(){T.trigger("worldChange")}},m={featureChanged:function(i,c,e,a){c=!!c;var u=i.$elem.find("input").prop("checked");if(!(u===i.value&&e!==!0)){if(i.value=u,(!i.$animating||!c)&&typeof i.options<"u")if(!c)u?(i.$elem.find(".feature-options").show().removeClass("collapsed"),i.$elem.find(".toggle-icon").html("&#9660;")):(i.$elem.find(".feature-options").hide().addClass("collapsed"),i.$elem.find(".toggle-icon").html("&#9668;"));else{var k=function(l){l?(i.$elem.find(".feature-options").show().removeClass("collapsed",200,"easeInExpo",function(){l!==i.value?k(i.value):i.$animating=!1}),i.$elem.find(".toggle-icon").html("&#9660;")):i.$elem.find(".feature-options").addClass("collapsed",200,"easeInExpo",function(){$(this).hide(),i.$elem.find(".toggle-icon").html("&#9668;"),l!==i.value?k(i.value):i.$animating=!1})};i.$animating=!0,k()}a!==!0&&o.signalChange()}},setAllFeatureCheckState:function(i,c,e){c!==!1&&(c=!0),$.each(h,function(a,u){var k=u.value;k!==i&&(u.value=i,u.$input.prop("checked",i),m.featureChanged(u,c,!0,!0))}),e!==!0&&o.signalChange()},resetOptionsToDefault:function(i){$.each(h,function(c,e){typeof e.options<"u"&&$.each(e.options,function(a,u){u.setValue(u.defaultVal,!0)})}),i!==!0&&o.signalChange()}};b.getSuperflatString=function(){for(var i="",c=0;c<n.length;c++){var e=n[c],a=h[e];if(a.value){if(i+=e,typeof a.options<"u"){var u="";$.each(a.options,function(k,l){l.value!=l.defaultVal&&(u+=k+"="+l.value+" ")}),u.length>0&&(i+="("+u.substr(0,u.length-1)+")")}i+=","}}return i.substr(0,i.length-1)},b.getNrSelected=function(){var i=0;return $.each(h,function(c,e){e.value===!0&&i++}),i};var C;return b.prepareSuperflatString=function(i){C={},i=i.toLowerCase().trim();for(var c=i.split(","),e=0;e<c.length;e++){var a=c[e].trim(),u=p.splitWithTail(a,"(",2),k=u[0].trim();if(k.length>0){if(typeof h[k]>"u")continue;if(C[k]={value:!0},u.length>1&&typeof h[k].options<"u"){var l=u[1].trim();if(l.endsWith(")")&&l.length>1){for(var g=l.substr(0,l.length-1).split(" "),U={},W=!1,P=0;P<g.length;P++){var A=p.splitWithTail(g[P].trim(),"=",2);if(A.length==2){var G=A[0].trim();typeof h[k].options[G]<"u"&&(W=!0,U[G]={value:A[1].trim()})}}W&&(C[k].options=U)}}}}return!0},b.applySuperflatString=function(){y=!0,m.resetOptionsToDefault(!0),m.setAllFeatureCheckState(!1,!1,!0),$.each(C,function(i,c){var e=h[i];e.value=c.value,e.$input.prop("checked",e.value),m.featureChanged(e,!1,!0,!0),typeof c.options<"u"&&$.each(c.options,function(a,u){var k=e.options[a];k.setValue(u.value,!0)})}),y=!1},b}.call($("#features"));return Y}();(function(){var B,z,F,R=null,Y;function T(){if(R===null){B=j.idMap,z=j.iconMap,F=j.presets,R=[];for(var f=0;f<F.length;f++)R.push({text:F[f],id:B[F[f]]});Y={data:R,matcher:M,sortResults:S,createSearchChoice:d,formatSelection:X,formatResult:X,escapeMarkup:w,placeholder:H.addBlockPlaceholder}}}function J(f,D){var p=[];return Select2.util.markMatch(f,D,p,function(x){return x}),p.join("")}function X(f,D,p){if(!(!f.id&&f.id!==0)){var x=z[f.text];!x&&x!==0&&(x=(f.id+"").split(":")[0]);var I=f.text,_=f.id+"";return typeof p<"u"&&typeof p.term<"u"&&(I=J(I,p.term),_=J(_,p.term)),'<i class="block block-'+x+'"></i> '+I+'<span class="block-id">'+_+"</span>"}}function S(f,D,p){if(!p.term)return f;f=f.sort(function(s,v){return s.text.length>v.text.length?1:s.text.length<v.text.length?-1:0});var x=j.findBlock(p.term);if(typeof x>"u")return f;for(var I=(x+"").split(":"),_=[],O=[],r=0;r<f.length;r++){var h=f[r].id,n=(h+"").split(":");n[0]==I[0]?n.length>1&&I.length>1&&n[1]==I[1]?_.unshift(f[r]):_.push(f[r]):O.push(f[r])}return O=O.sort(function(s,v){return s.text.length>v.text.length?1:s.text.length<v.text.length?-1:0}),$.merge(_,O)}function d(f,D){var p=j.findBlock(f);if(!(typeof p>"u")){var x=p.split(":");x[1]<1&&(p=x[0]);var I={id:p,text:blockData.getName(x[0],x[1])};return I}}function M(f,D,p){return~D.toLowerCase().indexOf(f.toLowerCase())||~(p.id+"").toLowerCase().indexOf(f.toLowerCase())}function w(f){return f}$.fn.blockSelector=function(){return T(),this.select2(Y),this},window.BlockSelector={getSelect2Options:function(){return T(),Y}}})();var j=function(){var B={},z={},F=blockData.name.slice(0);$(F).each(function(d){if(!blockData.exists(d)){F[d]=void 0;return}var M=F[d];B[M]=d}),$.each(blockData.meta,function(d,M){if(!(typeof M.presets>"u")){delete F[d];for(var w=0;w<M.presets.length;w++){var f=M.presets[w],D=blockData.getName(d,f),p=f>0?d+":"+f:d;B[D]=p,typeof M.getIcon<"u"&&(z[D]=M.getIcon(f)),F.push(D)}}}),$.each(blockData.meta,function(d,M){if(!(typeof M.getName>"u"&&typeof M.getNamePrefix>"u"&&typeof M.getNameSuffix>"u"))for(var w=0;w<16;w++){var f=blockData.getName(d,w);f in B||(B[f]=w>0?d+":"+w:d)}}),F=F.filter(function(d){return typeof d=="string"&&d.length>0}),F=F.sort(function(d,M){var w=B[d]+"",f=B[M]+"",D=0,p=0;if(w.indexOf(":")!==-1){var x=w.split(":");w=x[0],D=x[1]}if(f.indexOf(":")!==-1){var I=f.split(":");f=I[0],p=I[1]}return w=parseInt(w,10),f=parseInt(f,10),D=parseInt(D,10),p=parseInt(p,10),w<f?-1:w>f?1:D<p?-1:D>p?1:0});var R=function(d){if(d=d+"",d.endsWith(":")&&(d=d.substr(0,d.length-1)),V(d))return blockData.exists(d)?d+":0":void 0;var M=d.split(":");if(!(M.length!=2||!V(M[0])||!V(M[1]))){var w=M[0],f=M[1];if(blockData.exists(w))return(f<0||f>15)&&(f=0),w+":"+f}},Y=function(d){if(d){d=(d+"").trim();var M=R(d);if(typeof M<"u")return M;var w;if($.each(B,function(x,I){if(x.toLowerCase()===d.toLowerCase()&&typeof R(I)<"u")return w=R(I),!1}),typeof w<"u")return w;var f=-1,D=-1,p=!1;if($.each(F,function(x,I){if(I.toLowerCase().indexOf(d.toLowerCase())!==-1){var _=B[I]+"",O=0,r=_.split(":");if(r.length>1?(_=r[0],O=r[1]):O=0,f!==-1&&f!==_)return p=!0,!1;f===_&&(O=0),f=_,D=O}}),!(p||f<0))return R(f+":"+D)}},T=function(d){if(d=R(d),!(typeof d>"u"))return parseInt(d.split(":")[0],10)},J=function(d){return d=R(d),typeof d>"u"?0:parseInt(d.split(":")[1],10)},X=function(d){var M=T(d),w=J(d);if(typeof blockData.meta[M]>"u")return w===0;var f=0,D=!1;return $.each(blockData.meta[M].options,function(p,x){var I=x.start||0,_=x.length||1,O=x.min||0,r=x.max||(1<<_)-1,h=w>>I&(1<<_)-1;if(h<O||h>r||Array.isArray(x.unused)&&x.unused.indexOf(h)>-1)return D=!0,!1;f=f|(1<<_)-1<<I}),!(D||(~f&w)!==0)},S=function(d){var M=T(d),w=J(d);if(typeof blockData.meta[M]>"u")return 0;var f=0;return $.each(blockData.meta[M].options,function(D,p){var x=p.start||0,I=p.length||1,_=p.min||0,O=p.max||(1<<I)-1,r=w>>x&(1<<I)-1;(r<_||r>O||Array.isArray(p.unused)&&r in p.unused)&&(r=_),f=f|r<<x}),f};return{presets:F,idMap:B,iconMap:z,findBlock:Y,parseBlockId:T,parseMeta:J,isMetaValid:X,cleanMeta:S}}();globalThis.SuperflatGenerator=ne,globalThis.BlockUtility=j}ge.call(typeof window<"u"?window:globalThis)});export default me();
//# sourceMappingURL=C1vmszEB-LoV.js.map

//# chunkId=019876c4-ea34-7721-8df9-b416619d5f5f